(this.webpackJsonpi_stay_at_home=this.webpackJsonpi_stay_at_home||[]).push([[0],{10:function(e,t,a){},31:function(e,t,a){},37:function(e,t,a){e.exports=a(72)},42:function(e,t,a){},60:function(e,t,a){},66:function(e,t,a){e.exports=a.p+"static/media/full_monochrome_logo_transparent.aceed990.png"},67:function(e,t,a){e.exports=a.p+"static/media/full_colored_logo.b98ce243.png"},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(32),o=a.n(l),s=(a(42),a(8)),r=a(11),m=a(74),i=a(2),u=a(73),d=a(4),h=a.n(d),b=(a(60),a(10),function(e){var t=e.bgcolor;return c.a.createElement(c.a.Fragment,null,t?c.a.createElement("nav",null,c.a.createElement("div",{className:".container-fluid",style:{background:t}},c.a.createElement("div",{className:"row navbar-main-color ml-0 mr-0 align-items-center"},c.a.createElement("div",{className:"col-5 col-md-2"},c.a.createElement(s.b,{to:"/"},c.a.createElement("img",{src:a(66),width:"100%",alt:"logo"}))),c.a.createElement("div",{className:"col-7 col-md-10 navbar-box-color"},c.a.createElement("div",{className:"justify-content-start"}),c.a.createElement("div",{className:"justify-content-end"},c.a.createElement(s.b,{to:"/profile"},c.a.createElement("button",{className:"button-rounded-white"},c.a.createElement("span",{className:"mr-3"},c.a.createElement("i",{className:"fas fa-user"})),"Profile"))))))):c.a.createElement("nav",null,c.a.createElement("div",{className:".container-fluid"},c.a.createElement("div",{className:"row navbar-main ml-0 mr-0 align-items-center"},c.a.createElement("div",{className:"col-5 col-md-2"},c.a.createElement(s.b,{to:"/"},c.a.createElement("img",{src:a(67),width:"100%",alt:"logo"}))),c.a.createElement("div",{className:"col-7 col-md-10 navbar-box"},c.a.createElement("div",{className:"justify-content-start"}),c.a.createElement("div",{className:"justify-content-end"},c.a.createElement(s.b,{to:"/profile"},c.a.createElement("button",{className:"button-rounded-black"},c.a.createElement("span",{className:"mr-3"},c.a.createElement("i",{className:"fas fa-user"})),"Profile"))))))))}),E=(a(68),function(e){var t=e.bgcolor,a=e.title,n=e.steps,l=e.minutes,o=e.points;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"challenge-box",style:{background:t}},c.a.createElement("p",{className:"challenge-title"},a)),c.a.createElement("div",{className:"challenge-description",style:{background:t}},c.a.createElement("div",{className:"row h-100"},c.a.createElement("div",{className:"col text-center"},c.a.createElement("p",{className:"bottom-number"},n),c.a.createElement("span",{className:"bottom-number-text"},"Steps")),c.a.createElement("div",{className:"col text-center"},c.a.createElement("p",{className:"bottom-number"},l),c.a.createElement("span",{className:"bottom-number-text"},"Minutes")),c.a.createElement("div",{className:"col text-center"},c.a.createElement("p",{className:"bottom-number"},"+",o),c.a.createElement("span",{className:"bottom-number-text"},"Points")))))}),f=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=(t[0],t[1]),l=Object(n.useState)([]),o=Object(i.a)(l,2),r=o[0],m=o[1],d=Object(u.a)(["isah_id"]),f=Object(i.a)(d,2),p=f[0],g=f[1];Object(n.useEffect)((function(){h.a.get("/users").then((function(e){a(e.data),g("isah_id",e.data.id,{path:"/",maxAge:31536e4})})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){h.a.get("/challenges",{headers:{Authorization:p.isah_id}}).then((function(e){m(e.data)})).catch((function(e){console.log(e)}))}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(b,null),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"my-container"},c.a.createElement("h1",{className:"h1-black"},"Lets fill this world with positivity"),c.a.createElement("br",null),c.a.createElement("h5",null,"Nominate your friends to complete these challenges:"),c.a.createElement("div",{className:"row mt-2 mb-2"},r.map((function(e){return c.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-4"},c.a.createElement(s.b,{to:"/challenge/".concat(e.id)},c.a.createElement(E,{bgcolor:e.accentColor,title:e.name,steps:Object.keys(e.steps).length,minutes:e.minutes,points:e.points})))}))))))},p=(a(69),function(e){var t=e.challenge;return c.a.createElement(c.a.Fragment,null,Object.entries(t.steps||[]).map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return c.a.createElement("div",{className:"row justify-content-md-center description-box"},c.a.createElement("div",{className:"col-sm-12 col-md-6"},c.a.createElement("div",{className:"steps-box"},c.a.createElement("div",{className:"circle"},a),c.a.createElement("div",null,n))))})))}),g=a(15),v=a.n(g),N=a(36),j=(a(31),function(e){var t=e.challenge,a=Object(n.useState)({}),l=Object(i.a)(a,2),o=l[0],s=l[1],r=Object(n.useState)(!1),m=Object(i.a)(r,2),d=m[0],b=m[1],E=Object(n.useState)({}),f=Object(i.a)(E,2),p=f[0],g=f[1],j=Object(u.a)(["isah_id"]),y=Object(i.a)(j,2),w=y[0],O=(y[1],Object(n.useCallback)((function(e){s(e[0])}),[]));Object(n.useEffect)((function(){0!==Object.keys(o).length&&function(t){var a={challengeId:e.challenge.id,fileName:t.name,fileType:t.type};h.a.post("/image/upload",a,{headers:{Authorization:w.isah_id}}).then((function(e){g(e.data)})).catch((function(e){console.log(e)}))}(o)}),[o]);var x=Object(N.a)({onDrop:O,accept:"image/*",multiple:!1}),k=x.getRootProps,_=x.getInputProps,S=x.isDragActive;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"row justify-content-md-center description-box"},c.a.createElement("div",{className:"col-sm-12 col-md-6"},0===Object.keys(o).length?c.a.createElement("div",Object.assign({},k(),{className:"dropbox"}),c.a.createElement("input",_()),S?c.a.createElement("div",{className:"drag-text"},"Drop image here"):c.a.createElement("div",{className:"drag-text"},"Drag 'n' drop image here, or click to select a file")):c.a.createElement("div",{className:"image-preview"},c.a.createElement("img",{src:URL.createObjectURL(o),width:"50%",className:"image-preview",alt:"Upload"})))),d?c.a.createElement("div",{className:"row justify-content-md-center description-box"},c.a.createElement("div",{className:"col-sm-12 col-md-6 text-center"},c.a.createElement(v.a,{type:"bubbles",color:"#000000",height:"20%",width:"20%",className:"loading"}))):null,c.a.createElement("div",{className:"row justify-content-md-center description-box"},c.a.createElement("div",{className:"col-sm-12 col-md-6 text-center"},d?c.a.createElement("button",{className:"button-rounded-black-disabled text-large",disabled:!0},"Uploading"):0===Object.keys(p).length?c.a.createElement("button",{className:"button-rounded-black-disabled text-large",disabled:!0},"Upload"):c.a.createElement("button",{className:"button-rounded-black text-large",onClick:function(){var a=o.slice(0,o.size,o.type),n=new File([a],p.key,{type:o.type}),c=new XMLHttpRequest;c.open("PUT",p.url),c.onreadystatechange=function(){4===this.readyState&&200===this.status&&(console.log("File Uploaded"),function(){b(!0);var a={challengeId:t.id,uploadedFileKey:p.key};h.a.post("/submit",a,{headers:{Authorization:w.isah_id}}).then((function(t){e.onUpload(t.data),b(!1)})).catch((function(e){return console.log(e)}))}())},c.send(n)}},"Upload"))))}),y=function(e){var t=e.challenge,a=e.user,l=Object(n.useState)({}),o=Object(i.a)(l,2),s=o[0],r=o[1],m=Object(n.useState)(null),d=Object(i.a)(m,2),b=d[0],E=d[1],f=Object(n.useState)(!0),p=Object(i.a)(f,2),g=p[0],N=p[1],j=Object(u.a)(["isah_id"]),y=Object(i.a)(j,2),w=y[0];y[1];Object(n.useEffect)((function(){var e={key:a.challengesCompleted.find((function(e){return e.challengeId===t.id})).achievementImageKey};h.a.post("/image/download",e,{headers:{Authorization:w.isah_id}}).then((function(e){return r(e.data)})).catch((function(e){return console.log(e)}))}),[t,a]),Object(n.useEffect)((function(){void 0!==s.url&&null!==s.url&&(N(!0),fetch(s.url).then((function(e){return e.blob()})).then((function(e){var t=new File([e],"download.jpeg",{type:"image/jpeg"});E(t),N(!1)})))}),[s]);var O=function(){var e=document.createElement("a");document.body.appendChild(e),e.style="display: none",e.href=window.URL.createObjectURL(b),e.download="download.jpeg",e.click()};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"row justify-content-md-center description-box"},c.a.createElement("div",{className:"col-sm-12 col-md-6"},c.a.createElement("div",{className:"image-preview"},b?c.a.createElement("img",{src:window.URL.createObjectURL(b),width:"50%",className:"image-preview",alt:"Challenge Completed"}):null))),c.a.createElement("div",{className:"row justify-content-md-center description-box"},c.a.createElement("div",{className:"col-sm-12 col-md-6 text-center"},g?c.a.createElement(v.a,{type:"bubbles",color:"#000000",height:"20%",width:"20%",className:"loading"}):c.a.createElement("button",{className:"button-rounded-black text-large",onClick:function(){navigator.canShare&&navigator.canShare({files:[b]})?navigator.share({files:[b],text:"I nominate you to complete this challenge. https://istayathome.in/challenge/"+t.id}).then((function(){return console.log("Share was successful.")})).catch((function(e){return O()})):O()}},"Share"))))},w=(a(70),function(e){var t=Object(n.useState)({}),a=Object(i.a)(t,2),l=a[0],o=a[1],r=Object(n.useState)({}),m=Object(i.a)(r,2),d=m[0],E=m[1],f=Object(u.a)(["isah_id"]),g=Object(i.a)(f,2),v=g[0],N=g[1];Object(n.useEffect)((function(){console.log(v.isah_id),h.a.get("/users").then((function(e){E(e.data),N("isah_id",e.data.id,{path:"/",maxAge:31536e4})})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){h.a.get("/challenges?id="+e.match.params.id,{headers:{Authorization:v.isah_id}}).then((function(e){o(e.data)})).catch((function(e){console.log(e)}))}),[e]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(b,{bgcolor:l.accentColor}),c.a.createElement("div",{className:"container-fluid",style:{background:l.accentColor}},c.a.createElement("div",{className:"top-bar"},c.a.createElement("div",{className:"justify-content-start"},c.a.createElement(s.b,{to:"/"},c.a.createElement("div",{className:"row h-100 align-items-center"},c.a.createElement("div",{className:"col d-none d-sm-block"},c.a.createElement("button",{className:"button-rounded-transparent"},c.a.createElement("span",{className:"mr-3"},c.a.createElement("i",{className:"fas fa-arrow-left"})),"Back")),c.a.createElement("div",{className:"col d-xs-block d-sm-none"},c.a.createElement("span",{className:"mr-3"},c.a.createElement("i",{className:"fas fa-arrow-left text-light"})))))),c.a.createElement("div",{className:"justify-content-end"},c.a.createElement("div",{className:"row h-100 align-items-center"},c.a.createElement("div",{className:"col d-xs-block d-sm-none",onClick:function(){navigator.share({text:"I nominate you to complete this challenge. https://istayathome.in/challenge/"+l.id}).then((function(){return console.log("Share was successful.")})).catch((function(e){return console.log(e)}))}},c.a.createElement("span",{className:"mr-3"},c.a.createElement("i",{className:"fas fa-share text-light"})))))),c.a.createElement("div",{className:"row justify-content-md-center description-box"},c.a.createElement("div",{className:"col-sm-12 col-md-6"},c.a.createElement("h1",{className:"h1-white"},l.name),c.a.createElement("p",{className:"description-text"},l.description)))),c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"my-container"},c.a.createElement(p,{challenge:l}),c.a.createElement("hr",null),(d.challengesCompleted||[]).some((function(e){return e.challengeId===l.id}))?c.a.createElement(y,{challenge:l,user:d}):c.a.createElement(j,{challenge:l,onUpload:function(e){return E(e)}}))))}),O=(a(71),function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),m=r[0],d=r[1],E=Object(n.useState)(""),f=Object(i.a)(E,2),p=f[0],g=f[1],v=Object(n.useState)({}),N=Object(i.a)(v,2),j=N[0],y=N[1],w=Object(u.a)(["auth"]),O=Object(i.a)(w,2),x=O[0],k=O[1];Object(n.useEffect)((function(){h.a.get("/users").then((function(e){y(e.data),o(e.data.name||""),d(e.data.email||""),g(e.data.phoneNumber||""),k("auth",e.data.id,{path:"/",maxAge:31536e4})})).catch((function(e){console.log(e)}))}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(b,null),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"my-container"},c.a.createElement("div",{className:"row justify-content-md-center mt-4 mb-4"},c.a.createElement("div",{className:"col-sm-12 col-md-6 account-row"},c.a.createElement("h1",{className:"h1-black"},"Account Setting"))),c.a.createElement("div",{className:"row justify-content-md-center mt-4 mb-2"},c.a.createElement("div",{className:"col-sm-12 col-md-6"},c.a.createElement("h5",{className:"label"},"Name"),c.a.createElement("input",{type:"text",className:"input-field-large",placeholder:"Enter Your Name",value:l,onChange:function(e){return o(e.target.value)}}))),c.a.createElement("div",{className:"row justify-content-md-center mt-4 mb-2"},c.a.createElement("div",{className:"col-sm-12 col-md-6"},c.a.createElement("h5",{className:"label"},"Phone Number"),c.a.createElement("input",{type:"text",className:"input-field-large",placeholder:"Enter Your Phone Number",value:p,onChange:function(e){return g(e.target.value)}}))),c.a.createElement("div",{className:"row justify-content-md-center mt-2 mb-4"},c.a.createElement("div",{className:"col-sm-12 col-md-6 account-row"},c.a.createElement("h5",{className:"label"},"Email"),c.a.createElement("input",{type:"text",className:"input-field-large",placeholder:"Enter Your Email ID",value:m,onChange:function(e){return d(e.target.value)}}))),c.a.createElement("div",{className:"row justify-content-md-center mt-4 mb-4"},c.a.createElement("div",{className:"col-sm-12 col-md-6 text-center"},c.a.createElement("button",{className:"button-rounded-black text-large",onClick:function(){var t={id:j.id,name:l,email:m,phoneNumber:p};h.a.put("/users",t,{headers:{Authorization:x.isah_id}}).then((function(t){y(t.data),o(t.data.name||""),d(t.data.email||""),k("isah_id",t.data.id,{path:"/",maxAge:31536e4}),e.history.push("/")})).catch((function(e){console.log(e)}))}},"Update"))))))});var x=function(){return c.a.createElement(m.a,null,c.a.createElement(s.a,null,c.a.createElement(r.c,null,c.a.createElement(r.a,{path:"/",exact:!0,component:f}),c.a.createElement(r.a,{path:"/challenge/:id",exact:!0,component:w}),c.a.createElement(r.a,{path:"/profile",exact:!0,component:O}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=a(5),_=Object(k.a)(),S=(/#!(\/.*)$/.exec(window.location.hash)||[])[1];S&&_.replace(S),h.a.defaults.baseURL="https://2g8od2nal7.execute-api.ap-south-1.amazonaws.com/prod",h.a.defaults.headers.common.Authorization=function(e){var t=("; "+document.cookie).split("; "+e+"=");return 2===t.length?t.pop().split(";").shift():"NO AUTH"}("isah_id"),o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.e1b17891.chunk.js.map