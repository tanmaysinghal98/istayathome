{"ast":null,"code":"import _slicedToArray from\"/Users/tanmaysinghal98/Development/istayathome/isah-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useCookies}from'react-cookie';import{Link}from'react-router-dom';import axios from'axios';import Navbar from'./Navbar';import ChallengeView from'./ChallengeView';import'../styles/Common.css';var Home=function Home(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),challenges=_useState4[0],setChallenges=_useState4[1];var _useCookies=useCookies(['isah_id']),_useCookies2=_slicedToArray(_useCookies,2),cookie=_useCookies2[0],setCookie=_useCookies2[1];useEffect(function(){axios.get('/users').then(function(response){setUser(response.data);setCookie('isah_id',response.data.id,{path:'/',maxAge:315360000});}).catch(function(error){console.log(error);});},[]);useEffect(function(){axios.get('/challenges',{headers:{'Authorization':cookie.isah_id}}).then(function(response){setChallenges(response.data);}).catch(function(error){console.log(error);});},[]);var renderChallenges=function renderChallenges(){return challenges.map(function(challenge){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 col-md-6 col-lg-4\"},/*#__PURE__*/React.createElement(Link,{to:\"/challenge/\".concat(challenge.id)},/*#__PURE__*/React.createElement(ChallengeView,{bgcolor:challenge.accentColor,title:challenge.name,steps:Object.keys(challenge.steps).length,minutes:challenge.minutes,points:challenge.points})));});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Navbar,null),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"my-container\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"h1-black\"},\"Lets fill this world with positivity\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h5\",null,\"Nominate your friends to complete these challenges:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-2 mb-2\"},renderChallenges()))));};export default Home;","map":{"version":3,"sources":["/Users/tanmaysinghal98/Development/istayathome/isah-frontend/src/components/Home.js"],"names":["React","useEffect","useState","useCookies","Link","axios","Navbar","ChallengeView","Home","user","setUser","challenges","setChallenges","cookie","setCookie","get","then","response","data","id","path","maxAge","catch","error","console","log","headers","isah_id","renderChallenges","map","challenge","accentColor","name","Object","keys","steps","length","minutes","points"],"mappings":"+IAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAO,sBAAP,CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,eACSN,QAAQ,CAAC,EAAD,CADjB,wCACRO,IADQ,eACFC,OADE,8BAEqBR,QAAQ,CAAC,EAAD,CAF7B,yCAERS,UAFQ,eAEIC,aAFJ,+BAGaT,UAAU,CAAC,CAAC,SAAD,CAAD,CAHvB,4CAGRU,MAHQ,iBAGAC,SAHA,iBAKfb,SAAS,CAAC,UAAM,CACZI,KAAK,CAACU,GAAN,CAAU,QAAV,EACKC,IADL,CACU,SAAAC,QAAQ,CAAI,CACdP,OAAO,CAACO,QAAQ,CAACC,IAAV,CAAP,CACAJ,SAAS,CAAC,SAAD,CAAYG,QAAQ,CAACC,IAAT,CAAcC,EAA1B,CAA8B,CAACC,IAAI,CAAE,GAAP,CAAYC,MAAM,CAAE,SAApB,CAA9B,CAAT,CACH,CAJL,EAKKC,KALL,CAKW,SAAUC,KAAV,CAAgB,CACnBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACH,CAPL,EAQH,CATQ,CASN,EATM,CAAT,CAWAtB,SAAS,CAAC,UAAM,CACZI,KAAK,CAACU,GAAN,CAAU,aAAV,CAAyB,CAACW,OAAO,CAAE,CAAC,gBAAiBb,MAAM,CAACc,OAAzB,CAAV,CAAzB,EACKX,IADL,CACU,SAAAC,QAAQ,CAAI,CACdL,aAAa,CAACK,QAAQ,CAACC,IAAV,CAAb,CACH,CAHL,EAIKI,KAJL,CAIW,SAAUC,KAAV,CAAgB,CACnBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACH,CANL,EAOH,CARQ,CAQN,EARM,CAAT,CAUA,GAAMK,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC3B,MAAOjB,CAAAA,UAAU,CAACkB,GAAX,CAAe,SAAAC,SAAS,qBAC3B,2BAAK,SAAS,CAAC,6BAAf,eACI,oBAAC,IAAD,EAAM,EAAE,sBAAgBA,SAAS,CAACX,EAA1B,CAAR,eACI,oBAAC,aAAD,EACA,OAAO,CAAEW,SAAS,CAACC,WADnB,CAEA,KAAK,CAAED,SAAS,CAACE,IAFjB,CAGA,KAAK,CAAEC,MAAM,CAACC,IAAP,CAAYJ,SAAS,CAACK,KAAtB,EAA6BC,MAHpC,CAIA,OAAO,CAAEN,SAAS,CAACO,OAJnB,CAKA,MAAM,CAAEP,SAAS,CAACQ,MALlB,EADJ,CADJ,CAD2B,EAAxB,CAAP,CAaH,CAdD,CAgBA,mBACI,oBAAC,KAAD,CAAO,QAAP,mBACI,oBAAC,MAAD,MADJ,cAEI,2BAAK,SAAS,CAAC,WAAf,eACI,2BAAK,SAAS,CAAC,cAAf,eACI,0BAAI,SAAS,CAAC,UAAd,yCADJ,cAEI,8BAFJ,cAGI,oFAHJ,cAII,2BAAK,SAAS,CAAC,eAAf,EACKV,gBAAgB,EADrB,CAJJ,CADJ,CAFJ,CADJ,CAeH,CAzDD,CA2DA,cAAepB,CAAAA,IAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { useCookies } from 'react-cookie';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Navbar from './Navbar';\nimport ChallengeView from './ChallengeView';\nimport '../styles/Common.css';\n\nconst Home = () => {\n    const [user, setUser] = useState({});\n    const [challenges, setChallenges] = useState([]);\n    const [cookie, setCookie] = useCookies(['isah_id']);\n\n    useEffect(() => {\n        axios.get('/users')\n            .then(response => {\n                setUser(response.data);\n                setCookie('isah_id', response.data.id, {path: '/', maxAge: 315360000})\n            })\n            .catch(function (error){\n                console.log(error);\n            })\n    }, [])\n\n    useEffect(() => {\n        axios.get('/challenges', {headers: {'Authorization': cookie.isah_id}})\n            .then(response => {\n                setChallenges(response.data);\n            })\n            .catch(function (error){\n                console.log(error);\n            })\n    }, [])\n\n    const renderChallenges = () => {\n        return challenges.map(challenge =>\n            <div className='col-sm-12 col-md-6 col-lg-4'>\n                <Link to={`/challenge/${challenge.id}`}>\n                    <ChallengeView \n                    bgcolor={challenge.accentColor} \n                    title={challenge.name}\n                    steps={Object.keys(challenge.steps).length}\n                    minutes={challenge.minutes}\n                    points={challenge.points}\n                    />\n                </Link>\n            </div>\n        )\n    }\n    \n    return(\n        <React.Fragment>\n            <Navbar/>\n            <div className='container'>\n                <div className='my-container'>\n                    <h1 className='h1-black'>Lets fill this world with positivity</h1>\n                    <br></br>\n                    <h5>Nominate your friends to complete these challenges:</h5>\n                    <div className='row mt-2 mb-2'>\n                        {renderChallenges()}\n                    </div>\n                </div>\n            </div>\n        </React.Fragment>\n    )\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}