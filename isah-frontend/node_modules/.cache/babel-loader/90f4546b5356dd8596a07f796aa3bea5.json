{"ast":null,"code":"import _slicedToArray from\"/Users/tanmaysinghal98/Development/isah/isah-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import axios from'axios';import Navbar from'./Navbar';import StepsView from'./StepsView';import ImageUpload from'./ImageUpload';import ImageShare from'./ImageShare';import{useCookies}from'react-cookie';import'../styles/Common.css';import'../styles/Challenge.css';var Challenge=function Challenge(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),challenge=_useState2[0],setChallenge=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var _useCookies=useCookies(['isah_id']),_useCookies2=_slicedToArray(_useCookies,2),cookie=_useCookies2[0],setCookie=_useCookies2[1];useEffect(function(){console.log(cookie.isah_id);axios.get('/users',{headers:{'Authorization':cookie.isah_id}}).then(function(response){setUser(response.data);setCookie('isah_id',response.data.id,{path:'/',maxAge:315360000});}).catch(function(error){console.log(error);});},[]);useEffect(function(){axios.get('/challenges?id='+props.match.params.id,{headers:{'Authorization':cookie.isah_id}}).then(function(response){setChallenge(response.data);}).catch(function(error){console.log(error);});},[props]);var share=function share(){navigator.share({text:'I nominate you to complete this challenge. https://istayathome.in/challenge/'+challenge.id}).then(function(){return console.log('Share was successful.');}).catch(function(error){return console.log(error);});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Navbar,{bgcolor:challenge.accentColor}),/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\",style:{background:challenge.accentColor}},/*#__PURE__*/React.createElement(\"div\",{className:\"top-bar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"justify-content-start\"},/*#__PURE__*/React.createElement(Link,{to:'/'},/*#__PURE__*/React.createElement(\"div\",{className:\"row h-100 align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col d-none d-sm-block\"},/*#__PURE__*/React.createElement(\"button\",{className:\"button-rounded-transparent\"},/*#__PURE__*/React.createElement(\"span\",{className:\"mr-3\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-arrow-left\"})),\"Back\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col d-xs-block d-sm-none\"},/*#__PURE__*/React.createElement(\"span\",{className:\"mr-3\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-arrow-left text-light\"})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"justify-content-end\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row h-100 align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col d-xs-block d-sm-none\",onClick:share},/*#__PURE__*/React.createElement(\"span\",{className:\"mr-3\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-share text-light\"})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-md-center description-box\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 col-md-6\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"h1-white\"},challenge.name),/*#__PURE__*/React.createElement(\"p\",{className:\"description-text\"},challenge.description)))),/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"my-container\"},/*#__PURE__*/React.createElement(StepsView,{challenge:challenge}),/*#__PURE__*/React.createElement(\"hr\",null),(user.challengesCompleted||[]).some(function(compChal){return compChal.challengeId===challenge.id;})?/*#__PURE__*/React.createElement(ImageShare,{challenge:challenge,user:user}):/*#__PURE__*/React.createElement(ImageUpload,{challenge:challenge,onUpload:function onUpload(user){return setUser(user);}}))));};export default Challenge;","map":{"version":3,"sources":["/Users/tanmaysinghal98/Development/isah/isah-frontend/src/components/Challenge.js"],"names":["React","useEffect","useState","Link","axios","Navbar","StepsView","ImageUpload","ImageShare","useCookies","Challenge","props","challenge","setChallenge","user","setUser","cookie","setCookie","console","log","isah_id","get","headers","then","response","data","id","path","maxAge","catch","error","match","params","share","navigator","text","accentColor","background","name","description","challengesCompleted","some","compChal","challengeId"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Navbar from './Navbar';\nimport StepsView from './StepsView';\nimport ImageUpload from './ImageUpload';\nimport ImageShare from './ImageShare';\nimport { useCookies } from 'react-cookie';\nimport '../styles/Common.css';\nimport '../styles/Challenge.css';\n\nconst Challenge = (props) => {\n    const [challenge, setChallenge] = useState({});\n    const [user, setUser] = useState({});\n    const [cookie, setCookie] = useCookies(['isah_id']);\n\n    useEffect(() => {\n        console.log(cookie.isah_id);\n        axios.get('/users', {headers: {'Authorization': cookie.isah_id}})\n            .then(response => {\n                setUser(response.data);\n                setCookie('isah_id', response.data.id, {path: '/', maxAge: 315360000})\n            })\n            .catch(function (error){\n                console.log(error);\n            })\n    }, [])\n\n    useEffect(() => {\n        axios.get('/challenges?id=' + props.match.params.id, {headers: {'Authorization': cookie.isah_id}})\n            .then(response => {\n                setChallenge(response.data);\n            })\n            .catch(function (error){\n                console.log(error);\n            })\n    }, [props])\n\n    const share = () => {\n        navigator.share({\n            text: 'I nominate you to complete this challenge. https://istayathome.in/challenge/' + challenge.id\n        })\n        .then(() => console.log('Share was successful.'))\n        .catch((error) => console.log(error));\n    }\n\n    return(\n        <React.Fragment>\n            <Navbar bgcolor={challenge.accentColor}/>\n            <div className='container-fluid' style={{background : challenge.accentColor}}>\n                <div className='top-bar'>\n                    <div className='justify-content-start'>\n                        <Link to={'/'}>\n                        <div className='row h-100 align-items-center'>\n                            <div className='col d-none d-sm-block'>\n                                <button className='button-rounded-transparent'>\n                                    <span className='mr-3'><i className=\"fas fa-arrow-left\"></i></span>\n                                    Back\n                                </button>\n                            </div>\n                            <div className='col d-xs-block d-sm-none'>\n                                    <span className='mr-3'><i className=\"fas fa-arrow-left text-light\"></i></span>\n                            </div>\n                        </div>\n                        </Link> \n                    </div>\n                    <div className='justify-content-end'>\n                        <div className='row h-100 align-items-center'>\n                            {/* <div className='col d-none d-sm-block'>\n                                <button className='button-rounded-transparent'>\n                                    <span className='mr-3'><i className=\"fas fa-share\"></i></span>\n                                    Nominate\n                                </button>\n                            </div> */}\n                            <div className='col d-xs-block d-sm-none' onClick={share}>\n                                <span className='mr-3'><i className=\"fas fa-share text-light\"></i></span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className='row justify-content-md-center description-box'>\n                    <div className='col-sm-12 col-md-6'>\n                    <h1 className='h1-white'>{challenge.name}</h1>\n                    <p className='description-text'>{challenge.description}</p>\n                    </div>\n                </div>\n            </div>\n            <div className='container-fluid'>\n                <div className='my-container'>\n                    <StepsView challenge={challenge}/>\n                    <hr></hr>\n                    {(user.challengesCompleted || []).some(compChal => compChal.challengeId === challenge.id) ? \n                    <ImageShare challenge={challenge} user={user} />: \n                    <ImageUpload challenge={challenge} onUpload={user => setUser(user)}/>\n                    }\n\n                </div>\n            </div>\n        </React.Fragment>\n    )\n}\n\nexport default Challenge;"]},"metadata":{},"sourceType":"module"}