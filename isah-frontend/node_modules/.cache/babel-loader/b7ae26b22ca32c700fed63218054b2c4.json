{"ast":null,"code":"import _slicedToArray from\"/Users/tanmaysinghal98/Development/isah/isah-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useCallback,useState,useEffect}from'react';import axios from'axios';import'../styles/Common.css';import'../styles/ImageUpload.css';var ImageShare=function ImageShare(props){var challenge=props.challenge,user=props.user;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),imageDownload=_useState2[0],setImageDownload=_useState2[1];useEffect(function(){var completedChallenge=user.challengesCompleted.find(function(compChal){return compChal.challengeId===challenge.id;});var data={'key':completedChallenge.achievementImageKey};axios.post('/image/download',data).then(function(response){return setImageDownload(response.data);}).catch(function(err){return console.log(err);});},[challenge,user]);var share=function share(){if(navigator.share){navigator.share({title:'web.dev',text:'Check out web.dev.',url:'https://web.dev/'}).then(function(){return console.log('Successful share');}).catch(function(error){return console.log('Error sharing',error);});}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-md-center description-box\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"image-preview\"},/*#__PURE__*/React.createElement(\"img\",{src:imageDownload.url,width:\"50%\",className:\"image-preview\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-md-center description-box\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 col-md-6 text-center\"},Object.keys(imageDownload).length===0?/*#__PURE__*/React.createElement(\"button\",{className:\"button-rounded-black-disabled text-large\",disabled:true},\"Share\"):/*#__PURE__*/React.createElement(\"button\",{className:\"button-rounded-black text-large\",onClick:share},\"Share\"))));};export default ImageShare;","map":{"version":3,"sources":["/Users/tanmaysinghal98/Development/isah/isah-frontend/src/components/ImageShare.js"],"names":["React","useCallback","useState","useEffect","axios","ImageShare","props","challenge","user","imageDownload","setImageDownload","completedChallenge","challengesCompleted","find","compChal","challengeId","id","data","achievementImageKey","post","then","response","catch","err","console","log","share","navigator","title","text","url","error","Object","keys","length"],"mappings":"wIAAA,MAAOA,CAAAA,KAAP,EAAeC,WAAf,CAA4BC,QAA5B,CAAsCC,SAAtC,KAAsD,OAAtD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,sBAAP,CACA,MAAO,2BAAP,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,IACnBC,CAAAA,SADmB,CACAD,KADA,CACnBC,SADmB,CACRC,IADQ,CACAF,KADA,CACRE,IADQ,eAEgBN,QAAQ,CAAC,EAAD,CAFxB,wCAEnBO,aAFmB,eAEJC,gBAFI,eAI1BP,SAAS,CAAC,UAAM,CACZ,GAAIQ,CAAAA,kBAAkB,CAAGH,IAAI,CAACI,mBAAL,CAAyBC,IAAzB,CAA8B,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,WAAT,GAAyBR,SAAS,CAACS,EAAvC,EAAtC,CAAzB,CACA,GAAIC,CAAAA,IAAI,CAAG,CACP,MAAON,kBAAkB,CAACO,mBADnB,CAAX,CAGAd,KAAK,CAACe,IAAN,CAAW,iBAAX,CAA8BF,IAA9B,EACKG,IADL,CACU,SAAAC,QAAQ,QAAIX,CAAAA,gBAAgB,CAACW,QAAQ,CAACJ,IAAV,CAApB,EADlB,EAEKK,KAFL,CAEW,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAFd,EAGH,CARQ,CAQN,CAAChB,SAAD,CAAYC,IAAZ,CARM,CAAT,CAUA,GAAMkB,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAChB,GAAIC,SAAS,CAACD,KAAd,CAAqB,CACjBC,SAAS,CAACD,KAAV,CAAgB,CACZE,KAAK,CAAE,SADK,CAEZC,IAAI,CAAE,oBAFM,CAGZC,GAAG,CAAE,kBAHO,CAAhB,EAKCV,IALD,CAKM,iBAAMI,CAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAN,EALN,EAMCH,KAND,CAMO,SAACS,KAAD,QAAWP,CAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6BM,KAA7B,CAAX,EANP,EAOH,CACJ,CAVD,CAYA,mBACI,qDACI,2BAAK,SAAS,CAAC,+CAAf,eACI,2BAAK,SAAS,CAAC,oBAAf,eACI,2BAAK,SAAS,CAAC,eAAf,eACI,2BAAK,GAAG,CAAEtB,aAAa,CAACqB,GAAxB,CAA6B,KAAK,CAAC,KAAnC,CAAyC,SAAS,CAAC,eAAnD,EADJ,CADJ,CADJ,CADJ,cAQI,2BAAK,SAAS,CAAC,+CAAf,eACI,2BAAK,SAAS,CAAC,gCAAf,EACKE,MAAM,CAACC,IAAP,CAAYxB,aAAZ,EAA2ByB,MAA3B,GAAsC,CAAtC,cACG,8BAAQ,SAAS,CAAC,0CAAlB,CAA6D,QAAQ,KAArE,UADH,cAEG,8BAAQ,SAAS,CAAC,iCAAlB,CAAoD,OAAO,CAAER,KAA7D,UAHR,CADJ,CARJ,CADJ,CAmBH,CA7CD,CA+CA,cAAerB,CAAAA,UAAf","sourcesContent":["import React, {useCallback, useState, useEffect} from 'react';\nimport axios from 'axios';\nimport '../styles/Common.css';\nimport '../styles/ImageUpload.css'\n\nconst ImageShare = (props) => {\n    const {challenge, user} = props;\n    const [imageDownload, setImageDownload] = useState({});\n\n    useEffect(() => {\n        var completedChallenge = user.challengesCompleted.find(compChal => compChal.challengeId === challenge.id)\n        var data = {\n            'key': completedChallenge.achievementImageKey\n        }\n        axios.post('/image/download', data)\n            .then(response => setImageDownload(response.data))\n            .catch(err => console.log(err))\n    }, [challenge, user])\n\n    const share = () => {\n        if (navigator.share) {\n            navigator.share({\n                title: 'web.dev',\n                text: 'Check out web.dev.',\n                url: 'https://web.dev/',\n            })\n            .then(() => console.log('Successful share'))\n            .catch((error) => console.log('Error sharing', error));\n        }\n    }\n\n    return (\n        <>\n            <div className='row justify-content-md-center description-box'>\n                <div className='col-sm-12 col-md-6'>\n                    <div className='image-preview'>\n                        <img src={imageDownload.url} width='50%' className='image-preview'/>\n                    </div>\n                </div>\n            </div>\n            <div className='row justify-content-md-center description-box'>\n                <div className='col-sm-12 col-md-6 text-center'>\n                    {Object.keys(imageDownload).length === 0? \n                        <button className='button-rounded-black-disabled text-large' disabled>Share</button>:\n                        <button className='button-rounded-black text-large' onClick={share}>Share</button>\n                    }\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default ImageShare;"]},"metadata":{},"sourceType":"module"}