{"ast":null,"code":"var _jsxFileName = \"/Users/tanmaysinghal98/Development/isah/isah-frontend/src/components/ImageUpload.js\";\nimport React, { useCallback, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useDropzone } from 'react-dropzone';\nimport '../styles/ImageUpload.css';\n\nconst ImageUpload = props => {\n  const {\n    challenge\n  } = props;\n  const [image, setImage] = useState({});\n  const [imageUpload, setImageUpload] = useState({});\n  useEffect(() => {\n    if (Object.keys(image).length !== 0) {\n      getPresignedUrl(image);\n    }\n  }, [image]);\n  const onDrop = useCallback(acceptedFiles => {\n    setImage(acceptedFiles[0]);\n  }, []);\n\n  const getPresignedUrl = file => {\n    var data = {\n      'challengeId': props.challenge.id,\n      'fileName': file.name,\n      'fileType': file.type\n    };\n    axios.post('/image/upload', data).then(response => {\n      setImageUpload(response.data);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive,\n    ac\n  } = useDropzone({\n    onDrop,\n    accept: 'image/*',\n    multiple: false\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-md-center description-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-12 col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, Object.keys(image).length === 0 ? /*#__PURE__*/React.createElement(\"div\", Object.assign({}, getRootProps(), {\n    className: \"dropbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", Object.assign({}, getInputProps(), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  })), isDragActive ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drag-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 29\n    }\n  }, \"Drop image here\") : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drag-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 29\n    }\n  }, \"Drag 'n' drop image here, or click to select a file\")) : /*#__PURE__*/React.createElement(\"img\", {\n    src: URL.createObjectURL(image),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  })));\n};\n\nexport default ImageUpload;","map":{"version":3,"sources":["/Users/tanmaysinghal98/Development/isah/isah-frontend/src/components/ImageUpload.js"],"names":["React","useCallback","useState","useEffect","axios","useDropzone","ImageUpload","props","challenge","image","setImage","imageUpload","setImageUpload","Object","keys","length","getPresignedUrl","onDrop","acceptedFiles","file","data","id","name","type","post","then","response","catch","error","console","log","getRootProps","getInputProps","isDragActive","ac","accept","multiple","URL","createObjectURL"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,WAAf,EAA4BC,QAA5B,EAAsCC,SAAtC,QAAsD,OAAtD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,QAA0B,gBAA1B;AACA,OAAO,2BAAP;;AAEA,MAAMC,WAAW,GAAIC,KAAD,IAAW;AAC3B,QAAM;AAACC,IAAAA;AAAD,MAAcD,KAApB;AACA,QAAM,CAACE,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACS,WAAD,EAAcC,cAAd,IAAgCV,QAAQ,CAAC,EAAD,CAA9C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIU,MAAM,CAACC,IAAP,CAAYL,KAAZ,EAAmBM,MAAnB,KAA8B,CAAlC,EAAqC;AACjCC,MAAAA,eAAe,CAACP,KAAD,CAAf;AACH;AACJ,GAJQ,EAIN,CAACA,KAAD,CAJM,CAAT;AAMA,QAAMQ,MAAM,GAAGhB,WAAW,CAACiB,aAAa,IAAI;AACxCR,IAAAA,QAAQ,CAACQ,aAAa,CAAC,CAAD,CAAd,CAAR;AACH,GAFyB,EAEvB,EAFuB,CAA1B;;AAIA,QAAMF,eAAe,GAAIG,IAAD,IAAU;AAC9B,QAAIC,IAAI,GAAG;AACP,qBAAeb,KAAK,CAACC,SAAN,CAAgBa,EADxB;AAEP,kBAAaF,IAAI,CAACG,IAFX;AAGP,kBAAYH,IAAI,CAACI;AAHV,KAAX;AAKAnB,IAAAA,KAAK,CAACoB,IAAN,CAAW,eAAX,EAA4BJ,IAA5B,EACKK,IADL,CACUC,QAAQ,IAAI;AACdd,MAAAA,cAAc,CAACc,QAAQ,CAACN,IAAV,CAAd;AACH,KAHL,EAIKO,KAJL,CAIW,UAAUC,KAAV,EAAgB;AACnBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KANL;AAOH,GAbD;;AAeA,QAAM;AAACG,IAAAA,YAAD;AAAeC,IAAAA,aAAf;AAA8BC,IAAAA,YAA9B;AAA4CC,IAAAA;AAA5C,MAAkD7B,WAAW,CAAC;AAChEY,IAAAA,MADgE;AAEhEkB,IAAAA,MAAM,EAAE,SAFwD;AAGhEC,IAAAA,QAAQ,EAAE;AAHsD,GAAD,CAAnE;AAMA,sBACI;AAAK,IAAA,SAAS,EAAC,+CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKvB,MAAM,CAACC,IAAP,CAAYL,KAAZ,EAAmBM,MAAnB,KAA8B,CAA9B,gBACG,6CAASgB,YAAY,EAArB;AAAyB,IAAA,SAAS,EAAC,SAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACI,+CAAWC,aAAa,EAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADJ,EAGQC,YAAY,gBACZ;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADY,gBAEZ;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2DALR,CADH,gBASG;AAAK,IAAA,GAAG,EAAEI,GAAG,CAACC,eAAJ,CAAoB7B,KAApB,CAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVR,CADJ,CADJ;AAiBH,CArDD;;AAuDA,eAAeH,WAAf","sourcesContent":["import React, {useCallback, useState, useEffect} from 'react';\nimport axios from 'axios';\nimport {useDropzone} from 'react-dropzone'\nimport '../styles/ImageUpload.css'\n\nconst ImageUpload = (props) => {\n    const {challenge} = props;\n    const [image, setImage] = useState({});\n    const [imageUpload, setImageUpload] = useState({});\n\n    useEffect(() => {\n        if (Object.keys(image).length !== 0) {\n            getPresignedUrl(image)\n        }\n    }, [image])\n\n    const onDrop = useCallback(acceptedFiles => {\n        setImage(acceptedFiles[0])\n    }, []);\n\n    const getPresignedUrl = (file) => {\n        var data = {\n            'challengeId': props.challenge.id,\n            'fileName' : file.name,\n            'fileType': file.type\n        }\n        axios.post('/image/upload', data)\n            .then(response => {\n                setImageUpload(response.data);\n            })\n            .catch(function (error){\n                console.log(error);\n            })\n    }\n    \n    const {getRootProps, getInputProps, isDragActive, ac} = useDropzone({\n        onDrop,\n        accept: 'image/*',\n        multiple: false\n    });\n\n    return (\n        <div className='row justify-content-md-center description-box'>\n            <div className='col-sm-12 col-md-6'>\n                {Object.keys(image).length === 0? \n                    <div {...getRootProps()} className='dropbox'>\n                        <input {...getInputProps()} />\n                        {\n                            isDragActive ? \n                            <div className='drag-text'>Drop image here</div> :\n                            <div className='drag-text'>Drag 'n' drop image here, or click to select a file</div>\n                        }\n                    </div> :\n                    <img src={URL.createObjectURL(image)} />\n                }\n            </div>\n        </div>\n      )\n}\n\nexport default ImageUpload;"]},"metadata":{},"sourceType":"module"}