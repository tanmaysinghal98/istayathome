{"ast":null,"code":"import _slicedToArray from\"/Users/tanmaysinghal98/Development/isah/isah-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useCookies}from'react-cookie';import axios from'axios';import Navbar from'./Navbar';import'../styles/Common.css';import'../styles/Profile.css';var Profile=function Profile(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),user=_useState6[0],setUser=_useState6[1];var _useCookies=useCookies(['auth']),_useCookies2=_slicedToArray(_useCookies,2),cookies=_useCookies2[0],setCookie=_useCookies2[1];useEffect(function(){axios.post('/users').then(function(response){setUser(response.data);setName(response.data.name||'');setEmail(response.data.email||'');setCookie('auth',response.data._id,{path:'/',maxAge:315360000});}).catch(function(error){console.log(error);});},[]);var onSubmitHandler=function onSubmitHandler(){var data={'_id':user._id,'name':name,'email':email};axios.put('/users',data).then(function(response){setUser(response.data);setName(response.data.name||'');setEmail(response.data.email||'');setCookie('auth',response.data._id,{path:'/',maxAge:315360000});props.history.push('/');}).catch(function(error){console.log(error);});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Navbar,null),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"my-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-md-center mt-4 mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 col-md-6 account-row\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"h1-black\"},\"Account Setting\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-md-center mt-4 mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 col-md-6\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"label\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"input-field-large\",placeholder:\"Enter Your Name\",value:name,onChange:function onChange(e){return setName(e.target.value);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-md-center mt-2 mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 col-md-6 account-row\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"label\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"input-field-large\",placeholder:\"Enter Your Email ID\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-md-center mt-4 mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 col-md-6 text-center\"},/*#__PURE__*/React.createElement(\"button\",{className:\"button-rounded-black text-large\",onClick:onSubmitHandler},\"Update\"))))));};export default Profile;","map":{"version":3,"sources":["/Users/tanmaysinghal98/Development/isah/isah-frontend/src/components/Profile.js"],"names":["React","useEffect","useState","useCookies","axios","Navbar","Profile","props","name","setName","email","setEmail","user","setUser","cookies","setCookie","post","then","response","data","_id","path","maxAge","catch","error","console","log","onSubmitHandler","put","history","push","e","target","value"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { useCookies } from 'react-cookie';\nimport axios from 'axios';\nimport Navbar from './Navbar';\nimport '../styles/Common.css';\nimport '../styles/Profile.css';\n\nconst Profile = (props) => {\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n    const [user, setUser] = useState({});\n    const [cookies, setCookie] = useCookies(['auth']);\n\n    useEffect(() => {\n        axios.post('/users')\n            .then(response => {\n                setUser(response.data);\n                setName(response.data.name || '');\n                setEmail(response.data.email || '');\n                setCookie('auth', response.data._id, {path: '/', maxAge: 315360000});\n            })\n            .catch(function (error){\n                console.log(error);\n            })\n    }, [])\n\n    const onSubmitHandler = () => {\n        let data = {\n            '_id': user._id,\n            'name': name,\n            'email': email\n        }\n        axios.put('/users', data)\n            .then(response => {\n                setUser(response.data);\n                setName(response.data.name || '');\n                setEmail(response.data.email || '');\n                setCookie('auth', response.data._id, {path: '/', maxAge: 315360000});\n                props.history.push('/');\n            })\n            .catch(function (error){\n                console.log(error);\n            })\n    }\n\n    return(\n        <React.Fragment>\n            <Navbar/>\n            <div className='container'>\n                <div className='my-container'>\n                    <div className='row justify-content-md-center mt-4 mb-4'>\n                        <div className='col-sm-12 col-md-6 account-row'>\n                            <h1 className='h1-black'>Account Setting</h1>\n                        </div>\n                    </div>\n                    <div className='row justify-content-md-center mt-4 mb-2'>\n                        <div className='col-sm-12 col-md-6'>\n                            <h5 className='label'>Name</h5>\n                            <input\n                            type='text'\n                            className='input-field-large'\n                            placeholder='Enter Your Name' \n                            value={name}\n                            onChange={e => setName(e.target.value)}\n                            />\n                        </div>\n                    </div>\n                    <div className='row justify-content-md-center mt-2 mb-4'>\n                        <div className='col-sm-12 col-md-6 account-row'>\n                            <h5 className='label'>Email</h5>\n                            <input\n                            type='text'\n                            className='input-field-large'\n                            placeholder='Enter Your Email ID'\n                            value={email}\n                            onChange={e => setEmail(e.target.value)}\n                            />\n                        </div>\n                    </div>\n                    <div className='row justify-content-md-center mt-4 mb-4'>\n                        <div className='col-sm-12 col-md-6 text-center'>\n                            <button className='button-rounded-black text-large' onClick={onSubmitHandler}>Update</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </React.Fragment>\n    )\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}